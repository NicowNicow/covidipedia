@page
@model AdminModel
@{
    ViewData["Title"] = "Page d'Administration";
}

<h1>@ViewData["Title"]</h1>
<head runat="server">
    <title>Demo</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
</head>
<body>
    <button type="button" id="btntoggle">Toggle show/hide</button>
    <form id="form1" runat="server" class="connector">
        <div class="container">
            <h2>Connectors Table</h2>
            <table class="table" id="connectortable">
                <thead>
                    <tr>
                        <th>Firstname</th>
                        <th>Lastname</th>
                        <th>Email</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="data-contact-person">
                        <td>
                            <input type="text" name="f-name" class="form-control f-name01" />
                        </td>
                        <td>
                            <input type="text" name="l-name" class="form-control l-name01" />
                        </td>
                        <td>
                            <input type="text" name="email" class="form-control email01" />
                        </td>
                        <td>
                            <button type="button" id="btnAdd" class="btn btn-xs btn-primary classAdd">Add More</button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <button type="button" id="btnSubmit" class="btn btn-primary btn-md pull-right btn-sm">Submit</button>
        </div>
    </form>
    <!--##################################################################################################################-->
    <form id="form1" runat="server" class="usertable">
        <div class="container">
            <h2>Users Table</h2>
            <table class="table" id="usertable">
                <thead>
                    <tr>
                        <th>Firstname</th>
                        <th>Lastname</th>
                        <th>Email</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="data-contact-person">
                        <td>
                            <input type="text" name="f-name" class="form-control f-name01" />
                        </td>
                        <td>
                            <input type="text" name="l-name" class="form-control l-name01" />
                        </td>
                        <td>
                            <input type="text" name="email" class="form-control email01" />
                        </td>
                        <td>
                            <button type="button" id="btnAdd" class="btn btn-xs btn-primary UserAdd">Add More</button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <button type="button" id="btnSubmit" class="btn btn-primary btn-md pull-right btn-sm">Submit</button>
        </div>
    </form>
    <script type="text/javascript">
        $(document).ready(function () {
            $(document).on("click", ".classAdd", function () { //
                var rowCount = $('.data-contact-person').length + 1;
                var contactdiv = '<tr class="data-contact-person">' +
                    '<td><input type="text" name="f-name' + rowCount + '" class="form-control f-name01" /></td>' +
                    '<td><input type="text" name="l-name' + rowCount + '" class="form-control l-name01" /></td>' +
                    '<td><input type="text" name="email' + rowCount + '" class="form-control email01" /></td>' +
                    '<td><button type="button" id="btnAdd" class="btn btn-xs btn-primary classAdd">Add More</button>' +
                    '<button type="button" id="btnDelete" class="deleteContact btn btn btn-danger btn-xs">Remove</button></td>' +
                    '</tr>';
                $('#connectortable').append(contactdiv); // Adding these controls to Main table class
            });
        });
        $(document).ready(function () {
            $(document).on("click", ".UserAdd", function () { //
                var rowCount = $('.data-contact-person').length + 1;
                var contactdiv = '<tr class="data-contact-person">' +
                    '<td><input type="text" name="f-name' + rowCount + '" class="form-control f-name01" /></td>' +
                    '<td><input type="text" name="l-name' + rowCount + '" class="form-control l-name01" /></td>' +
                    '<td><input type="text" name="email' + rowCount + '" class="form-control email01" /></td>' +
                    '<td><button type="button" id="btnAdd" class="btn btn-xs btn-primary classAdd">Add More</button>' +
                    '<button type="button" id="btnDelete" class="deleteContact btn btn btn-danger btn-xs">Remove</button></td>' +
                    '</tr>';
                $('#usertable').append(contactdiv); // Adding these controls to Main table class
            });
        });
        $(document).on("click", ".deleteContact", function () {
            $(this).closest("tr").remove(); // closest used to remove the respective 'tr' in which I have my controls
        });
    </script>
    <script>
        $('form.usertable').hide();
        $(document).ready(function () {
            $("#btntoggle").click(function () {
                $("form.connector").toggle();
                $("form.usertable").toggle();
            });
        });
    </script>
</body> 